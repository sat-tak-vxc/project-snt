<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>AssignProgressManagementField</name>
        <label>進捗管理割り当て</label>
        <locationX>774</locationX>
        <locationY>1027</locationY>
        <assignmentItems>
            <assignToReference>NewRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.LenderChangeRegistrationDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.LenderChangeRegistrationDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.LenderChangeConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.LenderChangeConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ReminderDate1__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ReminderDate1__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ReminderDate2__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ReminderDate2__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ChecksheetConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ChecksheetConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ChecksheetConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ChecksheetConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ConclusionDocumentScrutinyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ConclusionDocumentScrutinyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ConclusionDocumentScrutinyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ConclusionDocumentScrutinyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DocumentSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DocumentSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DocumentSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DocumentSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DocumentCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DocumentCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DocumentCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DocumentCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.StorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.StorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.StorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.StorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CompletedReportDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CompletedReportDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CompletedReportDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CompletedReportDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CompletedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CompletedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CompletedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CompletedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.FirstPostReceiptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FirstPostReceiptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.FirstPostReceiptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.FirstPostReceiptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.SecondPostReceiptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SecondPostReceiptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.SecondPostReceiptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.SecondPostReceiptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.FirstPostSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FirstPostSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.FirstPostSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.FirstPostSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.SecondPostSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SecondPostSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.SecondPostSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.SecondPostSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ReminderDate1__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ReminderDate1__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ReminderDate2__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ReminderDate2__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CollectScheduledDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CollectScheduledDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CollectScheduledDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CollectScheduledDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.LenderChangeConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.LenderChangeConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.LenderChangeRegistrationDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.LenderChangeRegistrationDate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ProgressManagementConditionChange</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>decision_Account</name>
        <label>取引先判定</label>
        <locationX>1133</locationX>
        <locationY>2750</locationY>
        <defaultConnector>
            <targetReference>flow_CreateChat</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>取引先変更なし</defaultConnectorLabel>
        <rules>
            <name>isChangedAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CC_AssignDecisionTyoe</targetReference>
            </connector>
            <label>取引先変更あり</label>
        </rules>
    </decisions>
    <decisions>
        <description>データ修正２次チェック日が入力されたかを判定</description>
        <name>decision_DataCorrectionSecondaryCheckDate</name>
        <label>データ修正２次チェック日の判定</label>
        <locationX>1116</locationX>
        <locationY>1796</locationY>
        <defaultConnector>
            <targetReference>decision_ReApplication</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>未入力</defaultConnectorLabel>
        <rules>
            <name>isInputCheckDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DataCorrectionSecondaryCheckDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.DataCorrectionSecondaryCheckDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_ToDo_2</targetReference>
            </connector>
            <label>チェック日が入力された</label>
        </rules>
    </decisions>
    <decisions>
        <description>データ修正２次チェック提出日が入力されたかを判定</description>
        <name>decision_DataCorrectionSecondaryCheckSubmitDate</name>
        <label>データ修正２次チェック提出日の判定</label>
        <locationX>1107</locationX>
        <locationY>1575</locationY>
        <defaultConnector>
            <targetReference>decision_DataCorrectionSecondaryCheckDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>未入力</defaultConnectorLabel>
        <rules>
            <name>isInputSubmitDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DataCorrectionSecondaryCheckSubmitDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.DataCorrectionSecondaryCheckSubmitDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_ToDo</targetReference>
            </connector>
            <label>提出日が入力された</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsNew</name>
        <label>新規作成か判断</label>
        <locationX>765</locationX>
        <locationY>1565</locationY>
        <defaultConnector>
            <targetReference>decision_DataCorrectionSecondaryCheckSubmitDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新</defaultConnectorLabel>
        <rules>
            <name>IsNew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_IsProxyContactAutoNotice</targetReference>
            </connector>
            <label>新規</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isUpdateConditionChangeCounter</name>
        <label>条件変更窓口更新判定</label>
        <locationX>766</locationX>
        <locationY>780</locationY>
        <defaultConnector>
            <targetReference>AssignProgressManagementField</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isUpdateConditionChangeCounter</name>
            <conditionLogic>1 OR( 2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ConditionChangeCounter__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ConditionChangeCounter__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateConditionChangeCounter</targetReference>
            </connector>
            <label>条件変更窓口更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_OccurReason</name>
        <label>発生理由の入力・変更判定</label>
        <locationX>1123</locationX>
        <locationY>2540</locationY>
        <defaultConnector>
            <targetReference>decision_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新無し</defaultConnectorLabel>
        <rules>
            <name>isRenewalReason</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isRenewalReason</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateRECheckRecord_0</targetReference>
            </connector>
            <label>発生理由更新有り</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReApplication</name>
        <label>再申請の判定</label>
        <locationX>1122</locationX>
        <locationY>2092</locationY>
        <defaultConnector>
            <targetReference>decision_ReApplicationDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isReApplication</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Reapplication1OccurrenceDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Reapplication2OccurrenceDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Reapplication3OccurrenceDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_FieldByAccountReApplication</targetReference>
            </connector>
            <label>再申請</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReApplicationDate</name>
        <label>再申請発生日入力判定</label>
        <locationX>1126</locationX>
        <locationY>2337</locationY>
        <defaultConnector>
            <targetReference>decision_OccurReason</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isInputReApplicationDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isInputReApplicationDate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateRECheckRecord</targetReference>
            </connector>
            <label>再申請発生日入力</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReconfirmDate</name>
        <label>再査日</label>
        <locationX>763</locationX>
        <locationY>1331</locationY>
        <defaultConnector>
            <targetReference>decision_IsNew</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>UpdateReconfirmDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReconfirmStaffAssign</targetReference>
            </connector>
            <label>再査日更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsDecisionAplicationLock</name>
        <label>決裁申請判定</label>
        <locationX>598</locationX>
        <locationY>2777</locationY>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>IsDecisionAplication</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>申請中</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_Change_DecisionApplicationLock</targetReference>
            </connector>
            <label>決裁申請</label>
        </rules>
    </decisions>
    <description>チャット作成を追加</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_InputNumber</name>
        <dataType>Number</dataType>
        <expression>IF(OR(ISCHANGED({!$Record.Reapplication1OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication1OccurrenceReason__c})),1,
IF(OR(ISCHANGED({!$Record.Reapplication2OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c})),2,
IF(OR(ISCHANGED({!$Record.Reapplication3OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c})),3,null)))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>formula_isInputReApplicationDate</name>
        <dataType>Boolean</dataType>
        <expression>OR(
AND(
ISBLANK({!$Record__Prior.Reapplication1OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication1OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication2OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication2OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication3OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication3OccurrenceDate__c}))
))</expression>
    </formulas>
    <formulas>
        <name>formula_IsNew</name>
        <dataType>Boolean</dataType>
        <expression>isnew()</expression>
    </formulas>
    <formulas>
        <name>formula_IsProxyContactAutoNotice</name>
        <dataType>Boolean</dataType>
        <expression>IF (ISBLANK({!$Record.Account__c}), false, {!$Record.Account__r.IsAutoNotice__c})</expression>
    </formulas>
    <formulas>
        <name>formula_isRenewalReason</name>
        <dataType>Boolean</dataType>
        <expression>OR(ISCHANGED({!$Record.Reapplication1OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c}))</expression>
    </formulas>
    <formulas>
        <name>formula_Name</name>
        <dataType>String</dataType>
        <expression>{!$User.LastName} &amp; &quot; &quot; &amp; {!$User.FirstName}</expression>
    </formulas>
    <interviewLabel>条件変更トリガー {!$Flow.CurrentDateTime}</interviewLabel>
    <label>条件変更トリガー</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>データ修正２次チェック提出日のToDoを作成</description>
        <name>Create_ToDo</name>
        <label>ToDoレコードの作成</label>
        <locationX>1230</locationX>
        <locationY>1690</locationY>
        <connector>
            <targetReference>decision_DataCorrectionSecondaryCheckDate</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>完了</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>データ修正２次チェック提出完了</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>データ修正２次チェック日のToDoを作成</description>
        <name>Create_ToDo_2</name>
        <label>ToDoレコードの作成</label>
        <locationX>1239</locationX>
        <locationY>1924</locationY>
        <connector>
            <targetReference>decision_ReApplication</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>完了</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>データ修正２次チェック完了</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordUpdates>
        <name>update_Change_DecisionApplicationLock</name>
        <label>条件変更レコードの更新</label>
        <locationX>498</locationX>
        <locationY>2813</locationY>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_ConditionChangeOwner</name>
        <label>条件変更の所有者変更</label>
        <locationX>770</locationX>
        <locationY>379</locationY>
        <connector>
            <targetReference>CreateShareObjectConditionChange</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Setup.SyatakusanSetting__c.SystemUserId__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_IsProxyContactAutoNotice</name>
        <label>連絡窓口自動通知不可フラグの更新</label>
        <locationX>590</locationX>
        <locationY>1561</locationY>
        <connector>
            <targetReference>flow_AssignSection</targetReference>
        </connector>
        <inputAssignments>
            <field>IsProxyContactAutoNotice__c</field>
            <value>
                <elementReference>formula_IsProxyContactAutoNotice</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>644</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>update_ConditionChangeOwner</targetReference>
        </connector>
        <object>ConditionChange__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>CC_AssignDecisionTyoe</name>
        <label>CC_決裁種別割り当て</label>
        <locationX>586</locationX>
        <locationY>2481</locationY>
        <connector>
            <targetReference>flow_CreateChat</targetReference>
        </connector>
        <flowName>CC_AssignDecisionType</flowName>
        <inputAssignments>
            <name>decisionType</name>
            <value>
                <elementReference>$Record.Account__r.ServiceContractDecisionApplication__r.TermsChangeDecisionType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateShareObjectConditionChange</name>
        <label>CC_シェアオブジェクト作成（条件変更）</label>
        <locationX>772</locationX>
        <locationY>507</locationY>
        <connector>
            <targetReference>UpdateStageConditionChange</targetReference>
        </connector>
        <flowName>CreateShareObjectConditionChange</flowName>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_AssignSection</name>
        <label>セクション割り当て</label>
        <locationX>588</locationX>
        <locationY>1699</locationY>
        <connector>
            <targetReference>flow_CreateSealConditionChange</targetReference>
        </connector>
        <flowName>AssignSection</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionId1</assignToReference>
            <name>var_SectionId1</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionOwnerId</assignToReference>
            <name>var_SectionOwnerId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateChat</name>
        <label>チャット作成</label>
        <locationX>619</locationX>
        <locationY>2596</locationY>
        <connector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </connector>
        <flowName>CreateChat_ConditionChange</flowName>
        <inputAssignments>
            <name>var_NewRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateConditionChangeCheckRecord</name>
        <label>CCH_条件変更チェックレコード作成</label>
        <locationX>587</locationX>
        <locationY>1968</locationY>
        <connector>
            <targetReference>CC_AssignDecisionTyoe</targetReference>
        </connector>
        <flowName>CCHCreateConditionChangeCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateSealConditionChange</name>
        <label>SE_捺印管理作成(条件変更)</label>
        <locationX>587</locationX>
        <locationY>1831</locationY>
        <connector>
            <targetReference>flow_CreateConditionChangeCheckRecord</targetReference>
        </connector>
        <flowName>CerateSealConditionChange</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_FieldByAccountReApplication</name>
        <label>FA_個社別項目再申請時処理</label>
        <locationX>1261</locationX>
        <locationY>2198</locationY>
        <connector>
            <targetReference>decision_ReApplicationDate</targetReference>
        </connector>
        <flowName>FieldByAccountReApplication</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateRECheckRecord</name>
        <label>CC_再申請専用チェックレコード作成</label>
        <locationX>1260</locationX>
        <locationY>2523</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>ReApplicationCreateCCCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_InputNumber</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateRECheckRecord_0</name>
        <label>CC_再申請専用チェックレコード作成</label>
        <locationX>951</locationX>
        <locationY>2645</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>ReApplicationCreateCCCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_InputNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputRenewal</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReconfirmStaffAssign</name>
        <label>再査担当割り当て</label>
        <locationX>913</locationX>
        <locationY>1440</locationY>
        <connector>
            <targetReference>decision_IsNew</targetReference>
        </connector>
        <flowName>ReconfirmStaffAssign</flowName>
        <inputAssignments>
            <name>var_RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_StaffId</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ProgressManagementConditionChange</name>
        <label>進捗管理（条件変更）に進む</label>
        <locationX>775</locationX>
        <locationY>1165</locationY>
        <connector>
            <targetReference>decision_ReconfirmDate</targetReference>
        </connector>
        <flowName>ProgressManagementConditionChange</flowName>
        <inputAssignments>
            <name>InputNewRecord</name>
            <value>
                <elementReference>NewRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>InputOldRecord</name>
            <value>
                <elementReference>OldRecord</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateConditionChangeCounter</name>
        <label>CC_条件変更窓口更新</label>
        <locationX>591</locationX>
        <locationY>909</locationY>
        <connector>
            <targetReference>AssignProgressManagementField</targetReference>
        </connector>
        <flowName>UpdateConditionChangeCounter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_AccountId</name>
            <value>
                <elementReference>$Record.ConditionChangeCounter__r.Account__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateStageConditionChange</name>
        <label>CC_フェーズ自動更新（条件変更）</label>
        <locationX>774</locationX>
        <locationY>647</locationY>
        <connector>
            <targetReference>decision_isUpdateConditionChangeCounter</targetReference>
        </connector>
        <flowName>UpdateStageConditionChange</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>NewRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ConditionChange__c</objectType>
    </variables>
    <variables>
        <name>OldRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ConditionChange__c</objectType>
    </variables>
    <variables>
        <name>var_SectionId1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionOwnerId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
