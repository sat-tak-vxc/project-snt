<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>assign_ConfirmationCollectScheduleDate</name>
        <label>条件確認書回収予定日を割り当て</label>
        <locationX>939</locationX>
        <locationY>1908</locationY>
        <assignmentItems>
            <assignToReference>var_Renewal.ConfirmationCollectScheduleDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>formula_ConfirmationCollectScheduleDate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>assign_OwnerId</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_OwnerId</name>
        <label>所有者の割り当て</label>
        <locationX>694</locationX>
        <locationY>1992</locationY>
        <assignmentItems>
            <assignToReference>var_Renewal.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.SyatakusanSetting__c.SystemUserId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_Renewal.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_UpdateIsReminder</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignProgressManagementField</name>
        <label>進捗管理項目割り当て</label>
        <locationX>688</locationX>
        <locationY>1294</locationY>
        <assignmentItems>
            <assignToReference>NewRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RenewalCounterContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RenewalCounterContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RenewalCounterContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RenewalCounterContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ConfirmationSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ConfirmationSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ConfirmationSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ConfirmationSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ConfirmationCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ConfirmationCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ConfirmationCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ConfirmationCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CollectReminderDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CollectReminderDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CollectReminderDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CollectReminderDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RenewalNoticeArriveDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RenewalNoticeArriveDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RenewalNoticeArriveDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RenewalNoticeArriveDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RenewalContractArriveDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RenewalContractArriveDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RenewalContractArriveDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RenewalContractArriveDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.FirstCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FirstCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.FirstCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.FirstCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ConfirmTermsResearchStartDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ConfirmTermsResearchStartDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ConfirmTermsResearchStartDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ConfirmTermsResearchStartDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.EmployeeContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EmployeeContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.EmployeeContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.EmployeeContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.EmployeeReplyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EmployeeReplyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.EmployeeReplyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.EmployeeReplyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ExpiryNoticeSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ExpiryNoticeSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ExpiryNoticeSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ExpiryNoticeSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.TestEmailSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.TestEmailSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.TestEmailReceptionDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.TestEmailReceptionDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.TestEmailReceptionDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.TestEmailReceptionDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ApplicationContentConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ApplicationContentConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ApplicationContentConfirmDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ApplicationContentConfirmDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.FinanceArrangeDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FinanceArrangeDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.FinanceArrangeDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.FinanceArrangeDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ApprovedContactDateTrader__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ApprovedContactDateTrader__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ApprovedContactDateTrader__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ApprovedContactDateTrader__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.FinanceOSSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FinanceOSSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.FinanceOSSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.FinanceOSSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RenewalContractScrutinyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RenewalContractScrutinyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RenewalContractScrutinyDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RenewalContractScrutinyDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ScrutinyEndDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ScrutinyEndDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ScrutinyEndDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ScrutinyEndDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RentBankAccountPasteDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RentBankAccountPasteDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RentBankAccountPasteDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RentBankAccountPasteDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.BankAccountInputDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BankAccountInputDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.BankAccountInputDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.BankAccountInputDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.TestEmailSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.TestEmailSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ProgressManagementRenewal</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>decision_Account</name>
        <label>取引先判定</label>
        <locationX>808</locationX>
        <locationY>852</locationY>
        <defaultConnector>
            <targetReference>decision_isUpdateRenewalMainCounter</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>変更なし</defaultConnectorLabel>
        <rules>
            <name>isChangedAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RE_AssignDecisionType</targetReference>
            </connector>
            <label>変更有</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ConfirmationSendDate</name>
        <label>条件確認書送付日の更新判定</label>
        <locationX>688</locationX>
        <locationY>1836</locationY>
        <defaultConnector>
            <targetReference>assign_OwnerId</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>IsUpadateConfirmationSendDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ConfirmationSendDate__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.ConfirmationSendDate__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ConfirmationSendDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_ConfirmationCollectScheduleDate</targetReference>
            </connector>
            <label>条件確認書送付日更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsNew</name>
        <label>新規作成か否かチェック</label>
        <locationX>703</locationX>
        <locationY>510</locationY>
        <defaultConnector>
            <targetReference>decision_ReApplicationDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新</defaultConnectorLabel>
        <rules>
            <name>isNew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_IsProxyContactAutoNotice</targetReference>
            </connector>
            <label>新規作成</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isUpdateRenewalMainCounter</name>
        <label>更新窓口連絡先更新判定</label>
        <locationX>688</locationX>
        <locationY>959</locationY>
        <defaultConnector>
            <targetReference>flow_CreateChat</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>UpdateRenewalMainCounter</name>
            <conditionLogic>1 OR( 2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RenewalCounter__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RenewalCounter__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_UpdateRenewalMainCounter</targetReference>
            </connector>
            <label>更新窓口連絡先更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_OccurReason</name>
        <label>発生理由の入力・変更判定</label>
        <locationX>1135</locationX>
        <locationY>679</locationY>
        <defaultConnector>
            <targetReference>decision_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新無し</defaultConnectorLabel>
        <rules>
            <name>isRenewalReason</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isRenewalReason</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateRECheckRecord_0</targetReference>
            </connector>
            <label>発生理由更新有り</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReApplicationDate</name>
        <label>再申請発生日入力判定</label>
        <locationX>1276</locationX>
        <locationY>522</locationY>
        <defaultConnector>
            <targetReference>decision_OccurReason</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isInputReApplicationDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isInputReApplicationDate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateRECheckRecord</targetReference>
            </connector>
            <label>再申請発生日入力</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReconfirmDate</name>
        <label>再査日</label>
        <locationX>685</locationX>
        <locationY>1662</locationY>
        <defaultConnector>
            <targetReference>decision_ConfirmationSendDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>UpdateReconfirmDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReconfirmStaffAssign</targetReference>
            </connector>
            <label>再査日更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_States</name>
        <label>ステータス</label>
        <locationX>689</locationX>
        <locationY>2364</locationY>
        <defaultConnector>
            <targetReference>update_Renewal</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>StageIsCompleate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>完了</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PriceCutCorrespondenceTargetFieldRest</targetReference>
            </connector>
            <label>完了</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_UpdateIsReminder</name>
        <label>督促不要更新判定</label>
        <locationX>687</locationX>
        <locationY>2132</locationY>
        <defaultConnector>
            <targetReference>decision_States</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>IsUpdateIsReminder</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.IsReminder__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReflectIsReminder</targetReference>
            </connector>
            <label>督促不要を更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsDecisionAplicationLock</name>
        <label>決裁申請判定</label>
        <locationX>675</locationX>
        <locationY>2703</locationY>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>IsDecisionAplication</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>申請中</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_Renewal_DecisionApplicationLock</targetReference>
            </connector>
            <label>決裁申請</label>
        </rules>
    </decisions>
    <description>SNTより不要項目整理した頂いた項目の割り当て削除（進捗管理項目割当て）</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_ConfirmationCollectScheduleDate</name>
        <dataType>Date</dataType>
        <expression>{!$Record.ConfirmationSendDate__c}+{!$Setup.ReminderSetting__c.FirstConfirmationReminderAddDays__c}</expression>
    </formulas>
    <formulas>
        <name>formula_InputNumber</name>
        <dataType>Number</dataType>
        <expression>IF(OR(ISCHANGED({!$Record.Reapplication1OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication1OccurrenceReason__c})),1,
IF(OR(ISCHANGED({!$Record.Reapplication2OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c})),2,
IF(OR(ISCHANGED({!$Record.Reapplication3OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c})),3,null)))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>formula_isInputReApplicationDate</name>
        <dataType>Boolean</dataType>
        <expression>OR(
AND(
ISBLANK({!$Record__Prior.Reapplication1OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication1OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication2OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication2OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication3OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication3OccurrenceDate__c}))
))</expression>
    </formulas>
    <formulas>
        <name>formula_IsNew</name>
        <dataType>Boolean</dataType>
        <expression>isnew()</expression>
    </formulas>
    <formulas>
        <name>formula_IsProxyContactAutoNotice</name>
        <dataType>Boolean</dataType>
        <expression>IF (ISBLANK({!$Record.Account__c}), false, {!$Record.Account__r.IsAutoNotice__c})</expression>
    </formulas>
    <formulas>
        <name>formula_isRenewalReason</name>
        <dataType>Boolean</dataType>
        <expression>OR(ISCHANGED({!$Record.Reapplication1OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c}))</expression>
    </formulas>
    <interviewLabel>更新トリガー {!$Flow.CurrentDateTime}</interviewLabel>
    <label>RE_更新トリガー</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>update_IsProxyContactAutoNotice</name>
        <label>連絡窓口自動通知不可フラグの更新</label>
        <locationX>581</locationX>
        <locationY>444</locationY>
        <connector>
            <targetReference>RenewalCounterSelection</targetReference>
        </connector>
        <inputAssignments>
            <field>IsProxyContactAutoNotice__c</field>
            <value>
                <elementReference>formula_IsProxyContactAutoNotice</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_Renewal</name>
        <label>更新レコードを更新</label>
        <locationX>695</locationX>
        <locationY>2559</locationY>
        <connector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </connector>
        <inputReference>var_Renewal</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_Renewal_DecisionApplicationLock</name>
        <label>更新レコードの更新</label>
        <locationX>550</locationX>
        <locationY>2780</locationY>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_RenewalOwner</name>
        <label>更新の所有者変更</label>
        <locationX>689</locationX>
        <locationY>350</locationY>
        <connector>
            <targetReference>CreateShareObjectRenewal</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Setup.SyatakusanSetting__c.SystemUserId__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>562</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>update_RenewalOwner</targetReference>
        </connector>
        <object>Renewal__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>CreateSealRenewal</name>
        <label>捺印管理作成</label>
        <locationX>403</locationX>
        <locationY>825</locationY>
        <connector>
            <targetReference>flow_CreateRenewalCheckRecord</targetReference>
        </connector>
        <flowName>CreateSealRenewal</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateShareObjectRenewal</name>
        <label>RE_シェアオブジェクト作成（更新）</label>
        <locationX>992</locationX>
        <locationY>346</locationY>
        <connector>
            <targetReference>decision_IsNew</targetReference>
        </connector>
        <flowName>CreateShareObjectRenewal</flowName>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateToDoforUnclosedCase</name>
        <label>ケース未完了時ToDo発行</label>
        <locationX>186</locationX>
        <locationY>1205</locationY>
        <connector>
            <targetReference>RE_AssignDecisionType</targetReference>
        </connector>
        <flowName>CreateToDoForUnclosedCase</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>$Record.RealEstate__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_SectionOwnerId</name>
            <value>
                <elementReference>var_SectionOwnerId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_AssignSection</name>
        <label>セクション割り当て</label>
        <locationX>561</locationX>
        <locationY>749</locationY>
        <connector>
            <targetReference>CreateSealRenewal</targetReference>
        </connector>
        <flowName>AssignSection</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionId1</assignToReference>
            <name>var_SectionId1</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionOwnerId</assignToReference>
            <name>var_SectionOwnerId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateChat</name>
        <label>チャット作成</label>
        <locationX>818</locationX>
        <locationY>1188</locationY>
        <connector>
            <targetReference>AssignProgressManagementField</targetReference>
        </connector>
        <flowName>CreateChat_Renewal</flowName>
        <inputAssignments>
            <name>var_NewRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateRenewalCheckRecord</name>
        <label>RE_更新チェックレコード作成</label>
        <locationX>280</locationX>
        <locationY>876</locationY>
        <connector>
            <targetReference>flow_RenewalCreateAlert</targetReference>
        </connector>
        <flowName>CreateRenewalCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateRECheckRecord</name>
        <label>RE_再申請専用チェックレコード作成</label>
        <locationX>1290</locationX>
        <locationY>813</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>ReApplicationCreateRECheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_InputNumber</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateRECheckRecord_0</name>
        <label>RE_再申請専用チェックレコード作成</label>
        <locationX>824</locationX>
        <locationY>661</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>ReApplicationCreateRECheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_InputNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputRenewal</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReconfirmStaffAssign</name>
        <label>再査担当割り当て</label>
        <locationX>872</locationX>
        <locationY>1740</locationY>
        <connector>
            <targetReference>decision_ConfirmationSendDate</targetReference>
        </connector>
        <flowName>ReconfirmStaffAssign</flowName>
        <inputAssignments>
            <name>var_RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_StaffId</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReflectIsReminder</name>
        <label>RE_督促不要反映（更新）</label>
        <locationX>933</locationX>
        <locationY>2196</locationY>
        <connector>
            <targetReference>decision_States</targetReference>
        </connector>
        <flowName>ReflectIsReminder</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_RenewalCreateAlert</name>
        <label>更新レコード作成通知</label>
        <locationX>189</locationX>
        <locationY>953</locationY>
        <connector>
            <targetReference>PriceCutCorrespondenceInfoUpdate</targetReference>
        </connector>
        <flowName>RenewalCreateAlert</flowName>
        <inputAssignments>
            <name>var_RenewalRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_SectionId1</name>
            <value>
                <elementReference>var_SectionId1</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateRenewalMainCounter</name>
        <label>更新窓口更新</label>
        <locationX>555</locationX>
        <locationY>1079</locationY>
        <connector>
            <targetReference>flow_CreateChat</targetReference>
        </connector>
        <flowName>UpdateRenewalMainCounter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>PriceCutCorrespondenceInfoUpdate</name>
        <label>RE_値下げ対応情報更新</label>
        <locationX>186</locationX>
        <locationY>1077</locationY>
        <connector>
            <targetReference>CreateToDoforUnclosedCase</targetReference>
        </connector>
        <flowName>PriceCutCorrespondenceInfoUpdate</flowName>
        <inputAssignments>
            <name>var_RenewalId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>PriceCutCorrespondenceTargetFieldRest</name>
        <label>RE_値下げ対応対象項目リセット</label>
        <locationX>950</locationX>
        <locationY>2459</locationY>
        <connector>
            <targetReference>update_Renewal</targetReference>
        </connector>
        <flowName>PriceCutCorrespondenceTargetFieldRest</flowName>
        <inputAssignments>
            <name>var_RenewalId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ProgressManagementRenewal</name>
        <label>進捗管理（更新）に進む</label>
        <locationX>688</locationX>
        <locationY>1415</locationY>
        <connector>
            <targetReference>UpdateStageRenewal</targetReference>
        </connector>
        <flowName>ProgressManagementRenewal</flowName>
        <inputAssignments>
            <name>InputNewRecord</name>
            <value>
                <elementReference>NewRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>InputOldRecord</name>
            <value>
                <elementReference>OldRecord</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <description>決裁種別をマスタから業務レコードの項目に反映させる。</description>
        <name>RE_AssignDecisionType</name>
        <label>RE_決裁種別割り当て</label>
        <locationX>532</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>decision_isUpdateRenewalMainCounter</targetReference>
        </connector>
        <flowName>RE_AssignDecisionType</flowName>
        <inputAssignments>
            <name>decisionType</name>
            <value>
                <elementReference>$Record.Account__r.ServiceContractDecisionApplication__r.RenewalDecisionType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>RenewalCounterSelection</name>
        <label>更新窓口選定に進む</label>
        <locationX>467</locationX>
        <locationY>357</locationY>
        <connector>
            <targetReference>flow_AssignSection</targetReference>
        </connector>
        <flowName>RenewalCounterSlection</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>var_SelectLandlordId</assignToReference>
            <name>var_SelectLandlordId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>UpdateStageRenewal</name>
        <label>RE_フェーズ自動更新（更新）</label>
        <locationX>694</locationX>
        <locationY>1538</locationY>
        <connector>
            <targetReference>decision_ReconfirmDate</targetReference>
        </connector>
        <flowName>UpdateStageRenewal</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>NewRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Renewal__c</objectType>
    </variables>
    <variables>
        <name>OldRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Renewal__c</objectType>
    </variables>
    <variables>
        <name>var_Renewal</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Renewal__c</objectType>
    </variables>
    <variables>
        <name>var_SectionId1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionOwnerId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SelectLandlordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
