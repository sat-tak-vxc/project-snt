<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>54.0</apiVersion>
    <decisions>
        <description>車庫証明でも決裁申請をするようになったため車庫証明の分岐を追加</description>
        <name>decision_isApproval</name>
        <label>承認判定</label>
        <locationX>773</locationX>
        <locationY>997</locationY>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>NewMatter</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NewMatter</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_NewMatter_DecisionApplicationUnlock</targetReference>
            </connector>
            <label>新規</label>
        </rules>
        <rules>
            <name>isRenewal</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Renewal</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_Renewal</targetReference>
            </connector>
            <label>更新</label>
        </rules>
        <rules>
            <name>isConditionChange</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ConditionChange</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_ConditionChange</targetReference>
            </connector>
            <label>条件変更</label>
        </rules>
        <rules>
            <name>isChange</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Change</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_Change</targetReference>
            </connector>
            <label>入替</label>
        </rules>
        <rules>
            <name>Cancel</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancel</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_CancelCalculate</targetReference>
            </connector>
            <label>解約</label>
        </rules>
        <rules>
            <name>GarageCertification</name>
            <conditionLogic>(1 AND 2 AND 3) OR (1 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>承認</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>GarageCertification</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_GC</targetReference>
            </connector>
            <label>車庫証明</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isNew</name>
        <label>新規作成判定</label>
        <locationX>759</locationX>
        <locationY>637</locationY>
        <defaultConnector>
            <targetReference>decision_isApproval</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isNew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_DecisionApplication</targetReference>
            </connector>
            <label>新規作成</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isPrepayment</name>
        <label>駐車場代前納有無</label>
        <locationX>1189</locationX>
        <locationY>1637</locationY>
        <defaultConnector>
            <targetReference>flow_StopRent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>前納有り</defaultConnectorLabel>
        <rules>
            <name>isNoPrePayment</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.GarageCertification__r.PrepaymentEndDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ApplicationApproval</targetReference>
            </connector>
            <label>前納なし</label>
        </rules>
    </decisions>
    <decisions>
        <name>decisionNewOrIsChangedOwnerId</name>
        <label>新規or所有者変更判定</label>
        <locationX>747</locationX>
        <locationY>380</locationY>
        <defaultConnector>
            <targetReference>decision_isNew</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>それ以外</defaultConnectorLabel>
        <rules>
            <name>isNewOrIsChangedOwnerId</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_DecisionApplicationOwnerId</targetReference>
            </connector>
            <label>新規or所有者変更ずみ</label>
        </rules>
    </decisions>
    <description>入替のルートに個社別項目の変更日の更新サブフローを追加</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_ContractExpirationDate</name>
        <dataType>Date</dataType>
        <expression>{!$Record.Renewal__r.ContractExpirationDate__c}+ 30</expression>
    </formulas>
    <formulas>
        <name>formula_IsNew</name>
        <dataType>Boolean</dataType>
        <expression>isnew()</expression>
    </formulas>
    <interviewLabel>DA_決裁申請トリガー {!$Flow.CurrentDateTime}</interviewLabel>
    <label>DA_決裁申請トリガー</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>update_Cancel</name>
        <label>解約申入レコードの更新</label>
        <locationX>506</locationX>
        <locationY>983</locationY>
        <connector>
            <targetReference>CreateRealEstateChangeHistoryCancel</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.CancelCalculate__r.CancelApprication__r.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>IsApprovalCheckTrigger__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Cancel__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>update_CancelCalculate</name>
        <label>解約清算レコードの更新</label>
        <locationX>634</locationX>
        <locationY>981</locationY>
        <connector>
            <targetReference>update_Cancel</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.CancelCalculate__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_Change</name>
        <label>入替レコードの更新</label>
        <locationX>617</locationX>
        <locationY>1123</locationY>
        <connector>
            <targetReference>flow_CreatePaymentRecordChange</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Change__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_ConditionChange</name>
        <label>条件変更レコードの更新</label>
        <locationX>809</locationX>
        <locationY>1186</locationY>
        <connector>
            <targetReference>flow_CreateRent</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.ConditionChange__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_DecisionApplication</name>
        <label>申請日を割り当てて更新</label>
        <locationX>926</locationX>
        <locationY>637</locationY>
        <connector>
            <targetReference>UpdateBusinessRecordDecisionApplicationDate</targetReference>
        </connector>
        <inputAssignments>
            <field>ApprovalApplicationDateTime__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_DecisionApplicationOwnerId</name>
        <label>決裁申請の所有者更新</label>
        <locationX>490</locationX>
        <locationY>397</locationY>
        <connector>
            <targetReference>flow_CreateShareObjectDecisionApplication2</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Setup.SyatakusanSetting__c.SystemUserId__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_FifthSetConfirm</name>
        <label>5点確定レコードの更新</label>
        <locationX>1221</locationX>
        <locationY>1016</locationY>
        <connector>
            <targetReference>CreateAndUpdateRealEstate</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalCheckTrigger__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.NewMatter__r.FifthSetConfirm__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_GC</name>
        <label>車庫レコードの更新</label>
        <locationX>1196</locationX>
        <locationY>1167</locationY>
        <connector>
            <targetReference>flow_CreatePaymentRecordGC</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.GarageCertification__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_NewMatter_DecisionApplicationUnlock</name>
        <label>新規レコードの更新_決裁申請ロック解除</label>
        <locationX>1099</locationX>
        <locationY>977</locationY>
        <connector>
            <targetReference>update_FifthSetConfirm</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.NewMatter__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_Renewal</name>
        <label>更新レコードの更新</label>
        <locationX>940</locationX>
        <locationY>1187</locationY>
        <connector>
            <targetReference>flow_CreateRentRecordRenewal</targetReference>
        </connector>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Renewal__r</inputReference>
    </recordUpdates>
    <start>
        <locationX>636</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>decisionNewOrIsChangedOwnerId</targetReference>
        </connector>
        <object>DecisionApplication2__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <description>車庫証明の決裁申請承認時に、物件がなかった場合支払レコードに物件が紐づかないので紐づける必要がある。
例）新規決裁申請→車庫証明取り込み→車庫証明決裁申請・承認→新規決裁申請承認</description>
        <name>AutoLinkPaymentToRealEstate</name>
        <label>GC_支払/物件レコード自動紐づけ</label>
        <locationX>1328</locationX>
        <locationY>1644</locationY>
        <connector>
            <targetReference>flow_RelationRealEstateDataManagement</targetReference>
        </connector>
        <flowName>AutoLinkPaymentToRealEstate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputRealEstate</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateAndUpdateRealEstate</name>
        <label>RE_物件レコード再作成</label>
        <locationX>1323</locationX>
        <locationY>1034</locationY>
        <connector>
            <targetReference>flow_CreateRentRecord</targetReference>
        </connector>
        <flowName>CreateAndUpdateRealEstate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>var_RealEstateId</assignToReference>
            <name>var_RealEstateId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>CreateRealEstateChangeHistoryCancel</name>
        <label>RE_物件変更履歴作成（解約）</label>
        <locationX>368</locationX>
        <locationY>985</locationY>
        <connector>
            <targetReference>UpdateRentRecordCancel</targetReference>
        </connector>
        <flowName>CreateRealEstateChangeHistoryCancel</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateRealEstateChangeHistoryChange</name>
        <label>RE_物件変更履歴作成（入替）</label>
        <locationX>613</locationX>
        <locationY>1346</locationY>
        <connector>
            <targetReference>flow_UpdateFieldByAccountUpdateDate</targetReference>
        </connector>
        <flowName>CreateRealEstateChangeHistoryChange</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateRealEstateChangeHistoryConditionChange</name>
        <label>RE_物件変更履歴作成（条件変更）</label>
        <locationX>808</locationX>
        <locationY>1606</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>CreateRealEstateChangeHistoryConditionChange</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateRealEstateChangeHistoryRenewal</name>
        <label>RE_物件変更履歴作成（更新）</label>
        <locationX>939</locationX>
        <locationY>1601</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>CreateRealEstateChangeHistoryRenewal</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ApplicationApproval</name>
        <label>決裁申請承認後処理</label>
        <locationX>807</locationX>
        <locationY>1897</locationY>
        <flowName>ApplicationApprovalProcess</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateLandlord</name>
        <label>家主レコード作成</label>
        <locationX>1316</locationX>
        <locationY>1370</locationY>
        <connector>
            <targetReference>RealEstateAndGarageCertificationAutoLink</targetReference>
        </connector>
        <flowName>CreateLandlordRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreatePaymentRecordChange</name>
        <label>支払レコード作成</label>
        <locationX>615</locationX>
        <locationY>1229</locationY>
        <connector>
            <targetReference>CreateRealEstateChangeHistoryChange</targetReference>
        </connector>
        <flowName>CreatePaymentRecordNewMatter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>$Record.Change__r.RealEstate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreatePaymentRecordConditionChange</name>
        <label>支払レコード作成</label>
        <locationX>810</locationX>
        <locationY>1427</locationY>
        <connector>
            <targetReference>CreateRealEstateChangeHistoryConditionChange</targetReference>
        </connector>
        <flowName>CreatePaymentRecordNewMatter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>$Record.ConditionChange__r.RealEstate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreatePaymentRecordGC</name>
        <label>支払レコード作成</label>
        <locationX>1195</locationX>
        <locationY>1316</locationY>
        <connector>
            <targetReference>decision_isPrepayment</targetReference>
        </connector>
        <flowName>CreatePaymentRecordNewMatter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>$Record.GarageCertification__r.RealEstate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreatePaymentRecordNewMatter</name>
        <label>支払レコード作成</label>
        <locationX>1313</locationX>
        <locationY>1258</locationY>
        <connector>
            <targetReference>flow_CreateLandlord</targetReference>
        </connector>
        <flowName>CreatePaymentRecordNewMatter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreatePaymentRecordRenewal</name>
        <label>支払レコード作成</label>
        <locationX>940</locationX>
        <locationY>1422</locationY>
        <connector>
            <targetReference>CreateRealEstateChangeHistoryRenewal</targetReference>
        </connector>
        <flowName>CreatePaymentRecordNewMatter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>$Record.Renewal__r.RealEstate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateRent</name>
        <label>家賃レコード作成</label>
        <locationX>808</locationX>
        <locationY>1308</locationY>
        <connector>
            <targetReference>flow_CreatePaymentRecordConditionChange</targetReference>
        </connector>
        <flowName>CreateRentRecordConditionChange</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateRentRecord</name>
        <label>家賃レコード作成</label>
        <locationX>1314</locationX>
        <locationY>1148</locationY>
        <connector>
            <targetReference>flow_CreatePaymentRecordNewMatter</targetReference>
        </connector>
        <flowName>CreateRentRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateRentRecordRenewal</name>
        <label>家賃レコード作成</label>
        <locationX>939</locationX>
        <locationY>1302</locationY>
        <connector>
            <targetReference>flow_CreatePaymentRecordRenewal</targetReference>
        </connector>
        <flowName>CreateRentRecordRenewal</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateShareObjectDecisionApplication2</name>
        <label>DA_シェアオブジェクト作成（決裁申請2）</label>
        <locationX>486</locationX>
        <locationY>533</locationY>
        <connector>
            <targetReference>decision_isNew</targetReference>
        </connector>
        <flowName>CreateShareObjectDecisionApplication2</flowName>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_RelationDAAndFieldByAccount</name>
        <label>FA_決裁申請と個社別項目の紐づけ</label>
        <locationX>1070</locationX>
        <locationY>780</locationY>
        <connector>
            <targetReference>flow_UpdateDecisionApplication2ItemOfSignManagement</targetReference>
        </connector>
        <flowName>RelationDAAndFieldByAccount</flowName>
        <inputAssignments>
            <name>var_DecisionApplicationId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_RelationRealEstateDataManagement</name>
        <label>物件レコードを紐づけ(データ管理)</label>
        <locationX>1329</locationX>
        <locationY>1934</locationY>
        <connector>
            <targetReference>flow_RelationRealEstateId</targetReference>
        </connector>
        <flowName>RelationRealEstateDataManagement</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_RelationRealEstateId</name>
        <label>入居者物件に紐づけ</label>
        <locationX>1127</locationX>
        <locationY>1934</locationY>
        <connector>
            <targetReference>flow_UpdateFieldByAccountNewMatter</targetReference>
        </connector>
        <flowName>RelationRealEstate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstateId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>駐じゃ上代の前納が発生した場合に家賃の月額支払を止める必要がある</description>
        <name>flow_StopRent</name>
        <label>GC_月額支払い家賃停止</label>
        <locationX>1202</locationX>
        <locationY>1823</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>StopRent</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateDecisionApplication2ItemOfSignManagement</name>
        <label>捺印管理更新</label>
        <locationX>915</locationX>
        <locationY>781</locationY>
        <connector>
            <targetReference>decision_isApproval</targetReference>
        </connector>
        <flowName>SE_UpdateDecisionApplication2ItemOfSignManagement</flowName>
        <inputAssignments>
            <name>DecisionApplication2Id</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateFieldByAccountChange</name>
        <label>FA_個社別項目の更新（入替）</label>
        <locationX>614</locationX>
        <locationY>1609</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>UpdateFieldByAccountChange</flowName>
        <inputAssignments>
            <name>var_DecisionApplicationId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateFieldByAccountNewMatter</name>
        <label>FA_個社別項目の更新（新規）</label>
        <locationX>970</locationX>
        <locationY>1937</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>UpdateFieldByAccountNewMatter</flowName>
        <inputAssignments>
            <name>var_DecisionApplicationId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_RealEstate</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateFieldByAccountUpdateDate</name>
        <label>FA_個社別項目の変更日の更新</label>
        <locationX>615</locationX>
        <locationY>1469</locationY>
        <connector>
            <targetReference>flow_UpdateFieldByAccountChange</targetReference>
        </connector>
        <flowName>UpdateFieldByAccountUpdateDate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Change__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>RealEstateAndGarageCertificationAutoLink</name>
        <label>GC_物件/車庫証明レコード自動紐づけ</label>
        <locationX>1319</locationX>
        <locationY>1497</locationY>
        <connector>
            <targetReference>AutoLinkPaymentToRealEstate</targetReference>
        </connector>
        <flowName>GC</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_inputRealestatedId</name>
            <value>
                <elementReference>var_RealEstateId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateBusinessRecordDecisionApplicationDate</name>
        <label>AP_業務レコードの決裁申請日更新</label>
        <locationX>1069</locationX>
        <locationY>637</locationY>
        <connector>
            <targetReference>flow_RelationDAAndFieldByAccount</targetReference>
        </connector>
        <flowName>UpdateBusinessRecordDecisionApplicationDate</flowName>
        <inputAssignments>
            <name>var_DecisionApplication</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateRentRecordCancel</name>
        <label>CA_家賃レコード更新（解約）</label>
        <locationX>368</locationX>
        <locationY>1714</locationY>
        <connector>
            <targetReference>flow_ApplicationApproval</targetReference>
        </connector>
        <flowName>UpdateRentRecordCancel</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.CancelCalculate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <triggerOrder>1500</triggerOrder>
    <variables>
        <name>var_IsSendSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_RealEstateId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
