<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>54.0</apiVersion>
    <assignments>
        <name>assign_CCCheckCollection1</name>
        <label>コレクションに割り当て</label>
        <locationX>1009</locationX>
        <locationY>2777</locationY>
        <assignmentItems>
            <assignToReference>varCol_CreateCCCheck</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>var_CCCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_CCCheckCollection1_0</name>
        <label>コレクションに割り当て</label>
        <locationX>910</locationX>
        <locationY>2915</locationY>
        <assignmentItems>
            <assignToReference>var_CCCheck.OperatorCheck__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.ReconfirmCheck__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_CreatedNewCheck.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCol_UpdateCCCheck</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>var_CCCheck</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CreatedNewCheck</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_Collection</name>
        <label>コレクションに追加</label>
        <locationX>1256</locationX>
        <locationY>1456</locationY>
        <assignmentItems>
            <assignToReference>varCol_OperationCheckMaster</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loop_DecisionOperationCheckMaster</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_DecisionOperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_CreatedRecord</name>
        <label>既存レコード割り当て</label>
        <locationX>1490</locationX>
        <locationY>2112</locationY>
        <assignmentItems>
            <assignToReference>var_CreatedNewCheck</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_FilterCollection</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_FilterCollection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_DecisionType</name>
        <label>決裁種別チェックを割り当て</label>
        <locationX>665</locationX>
        <locationY>2336</locationY>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckCategory__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>手動</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckResult__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>未チェック</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.SEQ__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_SEQ</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.ConditionChange__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_ConditionChange.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CorporateHousingRegulation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_CorporateHousingRegulation.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckFieldsName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>決裁種別</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckFieldsValue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_ConditionChange.DecisionType__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.RegulationFieldsName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>決裁種別</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.RegulationFieldsValue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_CorporateHousingRegulation.DecisionTypeCC__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckResultComment__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.OperationCheckMasterId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.SortOrder__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.SortOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.IsReconfirmMandatory__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.IsReconfirmMandatory__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_CreateOrUpdate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_LegalApplication</name>
        <label>リーガル申請チェックを割り当て</label>
        <locationX>558</locationX>
        <locationY>2347</locationY>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckCategory__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>手動</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckResult__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>未チェック</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.SEQ__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_SEQ</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.ConditionChange__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_ConditionChange.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CorporateHousingRegulation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_CorporateHousingRegulation.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckFieldsName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>リーガル申請</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckFieldsValue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>text_LegalApplication</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.RegulationFieldsName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>リーガル申請</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.RegulationFieldsValue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_CorporateHousingRegulation.LegalCheckApplication__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.CheckResultComment__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.OperationCheckMasterId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.SortOrder__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.SortOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CCCheck.IsReconfirmMandatory__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_OperationCheckMaster.IsReconfirmMandatory__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_CreateOrUpdate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_OperationCheckMasterId</name>
        <label>IDを割り当て</label>
        <locationX>1190</locationX>
        <locationY>983</locationY>
        <assignmentItems>
            <assignToReference>varCol_OperationCheckMasterId</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loop_CCCheck.OperationCheckMasterId__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_CCCheck</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_SEQ1</name>
        <label>シーケンス割り当て</label>
        <locationX>1237</locationX>
        <locationY>1598</locationY>
        <assignmentItems>
            <assignToReference>var_SEQ</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_SEQAdd1</name>
        <label>シーケンス割り当て</label>
        <locationX>1261</locationX>
        <locationY>1764</locationY>
        <assignmentItems>
            <assignToReference>var_SEQ</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_ConditionChange.CCCheckSeq__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_SEQ</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_SEQStay</name>
        <label>シーケンス割り当て</label>
        <locationX>867</locationX>
        <locationY>1652</locationY>
        <assignmentItems>
            <assignToReference>var_SEQ</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_ConditionChange.CCCheckSeq__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>filter_CCCheck</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>IDでフィルタ</label>
        <locationX>1310</locationX>
        <locationY>1935</locationY>
        <assignNextValueToReference>currentItem_filter_CCCheck</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>get_CCCheck</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_filter_CCCheck.OperationCheckMasterId__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>loop_OperationCheckMaster.Id</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>loop_FilterCollection</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>decision_CreatedRecord</name>
        <label>既存レコード判定</label>
        <locationX>1144</locationX>
        <locationY>1941</locationY>
        <defaultConnector>
            <targetReference>decision_RegulationCheckField</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>既存レコードなし</defaultConnectorLabel>
        <rules>
            <name>isCreated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCol_OperationCheckMasterId</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>loop_OperationCheckMaster.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>filter_CCCheck</targetReference>
            </connector>
            <label>既存レコードあり</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_CreateOrUpdate</name>
        <label>作成/更新判定</label>
        <locationX>1039</locationX>
        <locationY>2582</locationY>
        <defaultConnector>
            <targetReference>decision_IsChange</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新</defaultConnectorLabel>
        <rules>
            <name>isCreate</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_CreatedNewCheck</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_IsReapplication</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_CCCheckCollection1</targetReference>
            </connector>
            <label>新規作成</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_CreateRecord</name>
        <label>レコード判定</label>
        <locationX>586</locationX>
        <locationY>1801</locationY>
        <defaultConnector>
            <targetReference>decision_CreateRecord_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>れこーどなし</defaultConnectorLabel>
        <rules>
            <name>UniqueName</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCol_CreateCCCheck</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>create_NewCheck</targetReference>
            </connector>
            <label>レコードあり</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_CreateRecord_0</name>
        <label>レコード判定</label>
        <locationX>276</locationX>
        <locationY>1798</locationY>
        <defaultConnector>
            <targetReference>update_CC</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>れこーどなし</defaultConnectorLabel>
        <rules>
            <name>UniqueName_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCol_UpdateCCCheck</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_NewCheckRecord</targetReference>
            </connector>
            <label>レコードあり</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsChange</name>
        <label>変更判定</label>
        <locationX>1215</locationX>
        <locationY>2775</locationY>
        <defaultConnector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>変更なし</defaultConnectorLabel>
        <rules>
            <name>IsChange</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_CCCheck.CheckResult__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>var_CreatedNewCheck.CheckResult__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_CCCheck.CheckFieldsValue__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>var_CreatedNewCheck.CheckFieldsValue__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_CCCheck.RegulationFieldsValue__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>var_CreatedNewCheck.RegulationFieldsValue__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_CCCheck.CheckResultComment__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>var_CreatedNewCheck.CheckResultComment__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_CCCheckCollection1_0</targetReference>
            </connector>
            <label>変更有</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_RegulationCheckField</name>
        <label>チェック項目判定</label>
        <locationX>854</locationX>
        <locationY>2194</locationY>
        <defaultConnector>
            <targetReference>loop_OperationCheckMaster</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isDecisionType</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_OperationCheckMaster.RegulationCheckField__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>決裁種別</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_DecisionType</targetReference>
            </connector>
            <label>決裁種別</label>
        </rules>
        <rules>
            <name>isLegalApplication</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_OperationCheckMaster.RegulationCheckField__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>リーガル申請</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_LegalApplication</targetReference>
            </connector>
            <label>リーガル申請</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_SEQ</name>
        <label>シーケンス判定</label>
        <locationX>1021</locationX>
        <locationY>1632</locationY>
        <defaultConnector>
            <targetReference>assign_SEQStay</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>それ以外</defaultConnectorLabel>
        <rules>
            <name>isNullSEQ</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_ConditionChange.CCCheckSeq__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_SEQ1</targetReference>
            </connector>
            <label>Null</label>
        </rules>
        <rules>
            <name>isReapplicationSEQ</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_IsReapplication</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_SEQAdd1</targetReference>
            </connector>
            <label>再申請</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_TargetOperation</name>
        <label>対象業務判定</label>
        <locationX>1240</locationX>
        <locationY>1249</locationY>
        <defaultConnector>
            <targetReference>loop_DecisionOperationCheckMaster</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>それ以外</defaultConnectorLabel>
        <rules>
            <name>isCC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_Includes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_Collection</targetReference>
            </connector>
            <label>条件変更業務</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>formula_Includes</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!loop_DecisionOperationCheckMaster.CheckTarget__c}, &quot;条件変更&quot;)</expression>
    </formulas>
    <interviewLabel>CC_社宅規定照合 {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CC_社宅規定照合</label>
    <loops>
        <name>loop_CCCheck</name>
        <label>条件変更チェックループ</label>
        <locationX>1024</locationX>
        <locationY>985</locationY>
        <collectionReference>get_CCCheck</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>assign_OperationCheckMasterId</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>get_OperationCheckMaster</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>loop_DecisionOperationCheckMaster</name>
        <label>業務チェックマスタループ</label>
        <locationX>1029</locationX>
        <locationY>1253</locationY>
        <collectionReference>get_OperationCheckMaster</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>decision_TargetOperation</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>decision_SEQ</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>loop_FilterCollection</name>
        <label>フィルタループ</label>
        <locationX>1317</locationX>
        <locationY>2101</locationY>
        <collectionReference>filter_CCCheck</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>assign_CreatedRecord</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>decision_RegulationCheckField</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>loop_OperationCheckMaster</name>
        <label>業務チェックマスタループ</label>
        <locationX>1001</locationX>
        <locationY>1786</locationY>
        <collectionReference>varCol_OperationCheckMaster</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>decision_CreatedRecord</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>decision_CreateRecord</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>create_NewCheck</name>
        <label>レコードを作成</label>
        <locationX>446</locationX>
        <locationY>1690</locationY>
        <connector>
            <targetReference>decision_CreateRecord_0</targetReference>
        </connector>
        <inputReference>varCol_CreateCCCheck</inputReference>
    </recordCreates>
    <recordLookups>
        <name>get_Account</name>
        <label>取引先を取得</label>
        <locationX>998</locationX>
        <locationY>443</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_ServiceAll</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ConditionChange.CompanyEmployee__r.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_CCCheck</name>
        <label>条件変更チェック取得</label>
        <locationX>1005</locationX>
        <locationY>708</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_CorporateHousingRegulation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ConditionChange__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ConditionChange.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>SEQ__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ConditionChange.CCCheckSeq__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ConditionChangeCheck__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_ConditionChange</name>
        <label>条件変更を取得</label>
        <locationX>1001</locationX>
        <locationY>253</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ConditionChange__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_CorporateHousingRegulation</name>
        <label>社宅規定を取得</label>
        <locationX>1014</locationX>
        <locationY>848</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>loop_CCCheck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ConditionChange.CompanyEmployee__r.CorporateHousingRegulation__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CorporateHousingRegulation__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_OperationCheckMaster</name>
        <label>業務チェックマスタを取得</label>
        <locationX>1021</locationX>
        <locationY>1105</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>loop_DecisionOperationCheckMaster</targetReference>
        </connector>
        <filterLogic>(1 OR 2) AND 3 AND 4</filterLogic>
        <filters>
            <field>ServiceContractAll__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ServiceAll.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ServiceContractAll__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>RegulationCheckField__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>CorporateHousingRegulation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_CorporateHousingRegulation.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OperationCheckMaster__c</object>
        <sortField>SortOrder__c</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_ServiceAll</name>
        <label>サービス_全体を取得</label>
        <locationX>997</locationX>
        <locationY>582</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_CCCheck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Account.ServiceContractAll__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceContractAll__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>update_CC</name>
        <label>条件変更を更新</label>
        <locationX>50</locationX>
        <locationY>1814</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_ConditionChange.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CCCheckSeq__c</field>
            <value>
                <elementReference>var_SEQ</elementReference>
            </value>
        </inputAssignments>
        <object>ConditionChange__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>update_NewCheckRecord</name>
        <label>条件変更チェックを更新</label>
        <locationX>127</locationX>
        <locationY>1687</locationY>
        <connector>
            <targetReference>update_CC</targetReference>
        </connector>
        <inputReference>varCol_UpdateCCCheck</inputReference>
    </recordUpdates>
    <start>
        <locationX>876</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>get_ConditionChange</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>text_LegalApplication</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>新貸主名1：{!get_ConditionChange.NewLandlord__r.Name}
新貸主名2：{!get_ConditionChange.NewLandlord2__r.Name}
新貸主名3：{!get_ConditionChange.NewLandlord3__r.Name}
新貸主名4：{!get_ConditionChange.NewLandlord4__r.Name}
新貸主名5：{!get_ConditionChange.NewLandlord5__r.Name}
新貸主代理名：{!get_ConditionChange.NewLenderProxy__r.Name}
新管理会社名：{!get_ConditionChange.NewManagementCompany__r.Name}</text>
    </textTemplates>
    <variables>
        <name>currentItem_filter_CCCheck</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ConditionChangeCheck__c</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_BaseRent</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>var_CCCheck</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ConditionChangeCheck__c</objectType>
    </variables>
    <variables>
        <name>var_CreatedNewCheck</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ConditionChangeCheck__c</objectType>
    </variables>
    <variables>
        <name>var_IsReapplication</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SEQ</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>varCol_CreateCCCheck</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ConditionChangeCheck__c</objectType>
    </variables>
    <variables>
        <name>varCol_OperationCheckMaster</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OperationCheckMaster__c</objectType>
    </variables>
    <variables>
        <name>varCol_OperationCheckMasterId</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCol_UpdateCCCheck</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ConditionChangeCheck__c</objectType>
    </variables>
</Flow>
