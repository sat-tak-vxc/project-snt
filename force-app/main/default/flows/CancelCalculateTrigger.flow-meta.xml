<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>AssignProgressManagementField</name>
        <label>進捗管理項目割り当て</label>
        <locationX>894</locationX>
        <locationY>640</locationY>
        <assignmentItems>
            <assignToReference>NewRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CheckListCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CheckListCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CheckListCollectDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CheckListCollectDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ClScanDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ClScanDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ClScanDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ClScanDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.EmployeeNoticeDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EmployeeNoticeDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.EmployeeNoticeDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.EmployeeNoticeDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.EmployeeConsentDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.EmployeeConsentDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.EmployeeConsentDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.EmployeeConsentDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CompanyLinkIndicateDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CompanyLinkIndicateDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CompanyLinkIndicateDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CompanyLinkIndicateDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.BankAccountGuidanceDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.BankAccountGuidanceDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.BankAccountGuidanceDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.BankAccountGuidanceDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.CalculateStayExceptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.CalculateStayExceptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.CalculateStayExceptDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.CalculateStayExceptDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.TsukubaBillingScheduledDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.TsukubaBillingScheduledDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.TsukubaBillingScheduledDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.TsukubaBillingScheduledDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.SPCExtractionRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SPCExtractionRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.SPCExtractionRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.SPCExtractionRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ContractReturnArrangemenDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ContractReturnArrangemenDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ContractReturnArrangemenDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ContractReturnArrangemenDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ContractReturnDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ContractReturnDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ContractReturnDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ContractReturnDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.StorageTargetDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.StorageTargetDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.StorageTargetDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.StorageTargetDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.StorageFinanceReportDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.StorageFinanceReportDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.StorageFinanceReportDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.StorageFinanceReportDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ArchiveStorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ArchiveStorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ArchiveStorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ArchiveStorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DDRHrTransferDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DDRHrTransferDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DDRHrTransferDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DDRHrTransferDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.GoodsIssueRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.GoodsIssueRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.GoodsIssueRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.GoodsIssueRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ReturnFinanceContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ReturnFinanceContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ReturnFinanceContactDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ReturnFinanceContactDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ReStorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ReStorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ReStorageDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ReStorageDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ContractCansellationReturnDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ContractCansellationReturnDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ContractCansellationReturnDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ContractCansellationReturnDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RentalChargesFinanceSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RentalChargesFinanceSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RentalChargesFinanceSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RentalChargesFinanceSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.SecurityDepositReplacementCreatedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SecurityDepositReplacementCreatedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.SecurityDepositReplacementCreatedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.SecurityDepositReplacementCreatedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.SecurityDepositIndividualCreatedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.SecurityDepositIndividualCreatedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.SecurityDepositIndividualCreatedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.SecurityDepositIndividualCreatedDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DetailCreateDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DetailCreateDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DetailCreateDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DetailCreateDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DetailCreateCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DetailCreateCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DetailCreateCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DetailCreateCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DetailManagementDepartmentSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DetailManagementDepartmentSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DetailManagementDepartmentSubmitDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DetailManagementDepartmentSubmitDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.ManagementDepartmentSubmitCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.ManagementDepartmentSubmitCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.ManagementDepartmentSubmitCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.ManagementDepartmentSubmitCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DetailManagementDepartmentSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DetailManagementDepartmentSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DetailManagementDepartmentSendDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DetailManagementDepartmentSendDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.RemittancePaymentCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.RemittancePaymentCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.RemittancePaymentCheckDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.RemittancePaymentCheckDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRecord.DestructionRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.DestructionRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OldRecord.DestructionRequestDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record__Prior.DestructionRequestDate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateStageCancelCalculate</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>decision_Account</name>
        <label>取引先判定</label>
        <locationX>1174</locationX>
        <locationY>1684</locationY>
        <defaultConnector>
            <targetReference>decision_isUpdateCalculateCounter</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>変更なし</defaultConnectorLabel>
        <rules>
            <name>isChangedAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CL_AssignDecisionType</targetReference>
            </connector>
            <label>変更有</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_CompletionDate</name>
        <label>完了日登録判定</label>
        <locationX>873</locationX>
        <locationY>2521</locationY>
        <defaultConnector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>ChangeCompletionDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CompletionDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RefundTotalAmount__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_AutoSetDepositRefundDateChange</targetReference>
            </connector>
            <label>完了日変更</label>
        </rules>
        <rules>
            <name>CancelCalculateNone</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DecisionAcquisitionDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RefundTotalAmount__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_AutoSetDepositRefundDateNone</targetReference>
            </connector>
            <label>0円精算</label>
        </rules>
        <rules>
            <name>Repayment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ConfirmCompletedDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.RefundTotalAmount__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.DecisionAcquisitionDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CompletionDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_AutoSetDepositRefundDateInvoiceReceipt</targetReference>
            </connector>
            <label>返金</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_CreateDocumentManagement</name>
        <label>文書管理作成判定</label>
        <locationX>885</locationX>
        <locationY>1202</locationY>
        <defaultConnector>
            <targetReference>decision_IsNew</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>作成なし</defaultConnectorLabel>
        <rules>
            <name>isCreateDocumentManagement</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DecisionAcquisitionDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_DocumentManagement</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_DocumentManagementRecordType</targetReference>
            </connector>
            <label>文書管理作成</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsNew</name>
        <label>新規作成か判断</label>
        <locationX>885</locationX>
        <locationY>1567</locationY>
        <defaultConnector>
            <targetReference>decision_ReApplicationDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新</defaultConnectorLabel>
        <rules>
            <name>isNew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_IsProxyContactAutoNotice</targetReference>
            </connector>
            <label>新規作成</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isUpdateCalculateCounter</name>
        <label>精算窓口更新判定</label>
        <locationX>882</locationX>
        <locationY>1841</locationY>
        <defaultConnector>
            <targetReference>flow_CreateChat</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>UpdateCalculateCounter</name>
            <conditionLogic>1 OR( 2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CalculateCounter__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CalculateCounter__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_UpdateCalculateCounter</targetReference>
            </connector>
            <label>精算窓口更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_OccurReason</name>
        <label>発生理由の入力・変更判定</label>
        <locationX>1521</locationX>
        <locationY>1479</locationY>
        <defaultConnector>
            <targetReference>decision_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新なし</defaultConnectorLabel>
        <rules>
            <name>isRenewalReason</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isRenewalReason</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateCLCheckRecord_0</targetReference>
            </connector>
            <label>発生理由更新有り</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReApplicationDate</name>
        <label>再申請発生日入力判定</label>
        <locationX>1595</locationX>
        <locationY>1320</locationY>
        <defaultConnector>
            <targetReference>decision_OccurReason</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>再申請発生日入力無し</defaultConnectorLabel>
        <rules>
            <name>isInputReApplicationDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>formula_isInputReApplicationDate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>flow_ReApplicationCreateCLCheckRecord</targetReference>
            </connector>
            <label>再申請発生日入力</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_ReconfirmDate</name>
        <label>再査日</label>
        <locationX>875</locationX>
        <locationY>2362</locationY>
        <defaultConnector>
            <targetReference>decision_CompletionDate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>UpdateReconfirmDate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ReconfirmDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ReconfirmStaffAssign</targetReference>
            </connector>
            <label>再査日更新</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsDecisionAplicationLock</name>
        <label>決裁申請判定</label>
        <locationX>879</locationX>
        <locationY>2986</locationY>
        <defaultConnectorLabel>決裁申請有無し</defaultConnectorLabel>
        <rules>
            <name>isDecisionAplication</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>申請中</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Stage__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>update_CancelCalculate_DecisionApplicationLock</targetReference>
            </connector>
            <label>決裁申請有あり</label>
        </rules>
    </decisions>
    <description>入居者負担額（積み上げ集計）で入居者負担額を更新する処理を削除</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_inputNumber</name>
        <dataType>Number</dataType>
        <expression>IF(OR(ISCHANGED({!$Record.Reapplication1OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication1OccurrenceReason__c})),1,
IF(OR(ISCHANGED({!$Record.Reapplication2OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c})),2,
IF(OR(ISCHANGED({!$Record.Reapplication3OccurrenceDate__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c})),3,null)))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>formula_isInputReApplicationDate</name>
        <dataType>Boolean</dataType>
        <expression>OR(
AND(
ISBLANK({!$Record__Prior.Reapplication1OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication1OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication2OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication2OccurrenceDate__c}))
),
AND(
ISBLANK({!$Record__Prior.Reapplication3OccurrenceDate__c}),
NOT(ISBLANK({!$Record.Reapplication3OccurrenceDate__c}))
))</expression>
    </formulas>
    <formulas>
        <name>formula_IsNew</name>
        <dataType>Boolean</dataType>
        <expression>isnew()</expression>
    </formulas>
    <formulas>
        <name>formula_IsProxyContactAutoNotice</name>
        <dataType>Boolean</dataType>
        <expression>IF (ISBLANK({!$Record.Account__c}), false, {!$Record.Account__r.IsAutoNotice__c})</expression>
    </formulas>
    <formulas>
        <name>formula_isRenewalReason</name>
        <dataType>Boolean</dataType>
        <expression>OR(ISCHANGED({!$Record.Reapplication1OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication2OccurrenceReason__c}),ISCHANGED({!$Record.Reapplication3OccurrenceReason__c}))</expression>
    </formulas>
    <interviewLabel>CL_解約精算トリガー {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CL_解約精算トリガー</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>create_DocumentManagement</name>
        <label>文書管理作成</label>
        <locationX>769</locationX>
        <locationY>1477</locationY>
        <connector>
            <targetReference>decision_IsNew</targetReference>
        </connector>
        <inputAssignments>
            <field>CancelCalculate__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RealEstateName__c</field>
            <value>
                <elementReference>$Record.RealEstate__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>get_DocumentManagementRecordType.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StorageDocument__c</field>
            <value>
                <elementReference>get_ServiceContactCancel.DocumentStorage__c</elementReference>
            </value>
        </inputAssignments>
        <object>DocumentManagement__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>get_DocumentManagement</name>
        <label>文書管理を取得</label>
        <locationX>891</locationX>
        <locationY>1096</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>decision_CreateDocumentManagement</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CancelCalculate__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>DocumentManagement__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_DocumentManagementRecordType</name>
        <label>レコードタイプを取得</label>
        <locationX>774</locationX>
        <locationY>1275</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_ServiceContactCancel</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>DocumentManagement__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ContactReturnStorage</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_ServiceContactCancel</name>
        <label>サービス解約取得</label>
        <locationX>771</locationX>
        <locationY>1381</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>create_DocumentManagement</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ServiceContractCancel__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceContractCancel__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>update_CancelCalculate_DecisionApplicationLock</name>
        <label>解約清算レコードの更新</label>
        <locationX>888</locationX>
        <locationY>3169</locationY>
        <inputAssignments>
            <field>IsApprovalLock__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_CancelCalculateOwner</name>
        <label>解約精算の所有者変更</label>
        <locationX>896</locationX>
        <locationY>385</locationY>
        <connector>
            <targetReference>CreateShareObjectCancelCalculate</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Setup.SyatakusanSetting__c.SystemUserId__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_IsProxyContactAutoNotice</name>
        <label>連絡窓口自動通知不可フラグの更新</label>
        <locationX>616</locationX>
        <locationY>1571</locationY>
        <connector>
            <targetReference>flow_AssignSection</targetReference>
        </connector>
        <inputAssignments>
            <field>IsProxyContactAutoNotice__c</field>
            <value>
                <elementReference>formula_IsProxyContactAutoNotice</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>771</locationX>
        <locationY>35</locationY>
        <connector>
            <targetReference>update_CancelCalculateOwner</targetReference>
        </connector>
        <object>CancelCalculate__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>CL_AssignDecisionType</name>
        <label>CL_決裁種別割り当て</label>
        <locationX>495</locationX>
        <locationY>1739</locationY>
        <connector>
            <targetReference>decision_isUpdateCalculateCounter</targetReference>
        </connector>
        <flowName>CL_AssignDecisionType</flowName>
        <inputAssignments>
            <name>decisionType</name>
            <value>
                <elementReference>$Record.Account__r.ServiceContractDecisionApplication__r.CancelDecisionType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>CreateShareObjectCancelCalculate</name>
        <label>CL_シェアオブジェクト作成（解約精算）</label>
        <locationX>897</locationX>
        <locationY>492</locationY>
        <connector>
            <targetReference>AssignProgressManagementField</targetReference>
        </connector>
        <flowName>CreateShareObjectCancelCalculate</flowName>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_AssignSection</name>
        <label>セクション割り当て</label>
        <locationX>487</locationX>
        <locationY>1537</locationY>
        <connector>
            <targetReference>flow_CreateCLCheckRecord</targetReference>
        </connector>
        <flowName>AssignSection</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionId1</assignToReference>
            <name>var_SectionId1</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>var_SectionOwnerId</assignToReference>
            <name>var_SectionOwnerId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>flow_AutoSetDepositRefundDateChange</name>
        <label>敷金返金日自動登録</label>
        <locationX>650</locationX>
        <locationY>2770</locationY>
        <connector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </connector>
        <flowName>AutoSetDepositRefundDate</flowName>
        <inputAssignments>
            <name>var_InputCancelCalculate</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputCompletionDate</name>
            <value>
                <elementReference>$Record.CompletionDate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_AutoSetDepositRefundDateInvoiceReceipt</name>
        <label>敷金返金日自動登録</label>
        <locationX>939</locationX>
        <locationY>2808</locationY>
        <connector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </connector>
        <flowName>AutoSetDepositRefundDate</flowName>
        <inputAssignments>
            <name>var_InputCancelCalculate</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputCompletionDate</name>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_AutoSetDepositRefundDateNone</name>
        <label>敷金返金日自動登録</label>
        <locationX>795</locationX>
        <locationY>2805</locationY>
        <connector>
            <targetReference>IsDecisionAplicationLock</targetReference>
        </connector>
        <flowName>AutoSetDepositRefundDate</flowName>
        <inputAssignments>
            <name>var_InputCancelCalculate</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputCompletionDate</name>
            <value>
                <elementReference>$Record.DecisionAcquisitionDate__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateChat</name>
        <label>チャット作成</label>
        <locationX>889</locationX>
        <locationY>2075</locationY>
        <connector>
            <targetReference>decision_ReconfirmDate</targetReference>
        </connector>
        <flowName>CreateChat_CancelCalculate</flowName>
        <inputAssignments>
            <name>var_NewRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_CreateCLCheckRecord</name>
        <label>CL_解約精算チェックレコード作成</label>
        <locationX>487</locationX>
        <locationY>1634</locationY>
        <connector>
            <targetReference>CL_AssignDecisionType</targetReference>
        </connector>
        <flowName>CLCreateCancelCalculateCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ProgressManagementCancelCalculate</name>
        <label>CL_進捗管理（解約精算）</label>
        <locationX>889</locationX>
        <locationY>945</locationY>
        <connector>
            <targetReference>get_DocumentManagement</targetReference>
        </connector>
        <flowName>ProgressManagementCancelCalculate</flowName>
        <inputAssignments>
            <name>InputNewRecord</name>
            <value>
                <elementReference>NewRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>InputOldRecord</name>
            <value>
                <elementReference>OldRecord</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateCLCheckRecord</name>
        <label>CL_再申請専用チェックレコード作成</label>
        <locationX>1610</locationX>
        <locationY>1678</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>CLReApplicationCreateCLCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_inputNumber</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_ReApplicationCreateCLCheckRecord_0</name>
        <label>CL_再申請専用チェックレコード作成</label>
        <locationX>1323</locationX>
        <locationY>1450</locationY>
        <connector>
            <targetReference>decision_Account</targetReference>
        </connector>
        <flowName>CLReApplicationCreateCLCheckRecord</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputNumber</name>
            <value>
                <elementReference>formula_inputNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_InputRenewal</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>flow_UpdateCalculateCounter</name>
        <label>精算窓口連絡先更新</label>
        <locationX>699</locationX>
        <locationY>2077</locationY>
        <connector>
            <targetReference>flow_CreateChat</targetReference>
        </connector>
        <flowName>UpdateCalculateCounter</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_AccountId</name>
            <value>
                <elementReference>$Record.CalculateCounter__r.Account__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>ReconfirmStaffAssign</name>
        <label>再査担当割り当て</label>
        <locationX>1053</locationX>
        <locationY>2439</locationY>
        <connector>
            <targetReference>decision_CompletionDate</targetReference>
        </connector>
        <flowName>ReconfirmStaffAssign</flowName>
        <inputAssignments>
            <name>var_RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_StaffId</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>UpdateStageCancelCalculate</name>
        <label>CC_フェーズ自動更新（解約精算）</label>
        <locationX>892</locationX>
        <locationY>794</locationY>
        <connector>
            <targetReference>flow_ProgressManagementCancelCalculate</targetReference>
        </connector>
        <flowName>UpdateStageCancelCalculate</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>CancelApplicationDestination</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collection_Landlord</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Landlord__c</objectType>
    </variables>
    <variables>
        <name>NewRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>CancelCalculate__c</objectType>
    </variables>
    <variables>
        <name>NewRecord2</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Cancel__c</objectType>
    </variables>
    <variables>
        <name>OldRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>CancelCalculate__c</objectType>
    </variables>
    <variables>
        <name>OldRecord2</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Cancel__c</objectType>
    </variables>
    <variables>
        <name>var_CompletionDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionId1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionId2</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionId3</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_SectionOwnerId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
