<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>action_ChatterPost</name>
        <label>Chatterに投稿</label>
        <locationX>774</locationX>
        <locationY>1875</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>screen_ChatterPostFinish</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>text</name>
            <value>
                <elementReference>text_ChatterText</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <elementReference>get_Renewal.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>visibility</name>
            <value>
                <stringValue>allUsers</stringValue>
            </value>
        </inputParameters>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>action_ChatterPost_0</name>
        <label>Chatterに投稿</label>
        <locationX>1289</locationX>
        <locationY>1845</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>screen_ChatterPostFinish</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>text</name>
            <value>
                <elementReference>text_ChatterText</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <elementReference>var_ChatId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>visibility</name>
            <value>
                <stringValue>allUsers</stringValue>
            </value>
        </inputParameters>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <assignments>
        <name>assign_AdjustmentContactRenewalToAgency</name>
        <label>変数割り当て</label>
        <locationX>597</locationX>
        <locationY>1533</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_AdjustmentContactRenewalToAgency</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_AdjustmentContactRenewalToContact</name>
        <label>変数割り当て</label>
        <locationX>512</locationX>
        <locationY>1527</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_AdjustmentContactRenewalToContact</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_ApprovalContact</name>
        <label>変数割り当て</label>
        <locationX>1028</locationX>
        <locationY>1543</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_ApprovalContact</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_BrrowerReceiptReminder</name>
        <label>変数割り当て</label>
        <locationX>1104</locationX>
        <locationY>1543</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_BrrowerReceiptReminder</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_ContactAccount</name>
        <label>変数割り当て</label>
        <locationX>932</locationX>
        <locationY>1555</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_ContactAccount</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_ContractDocumentRemider</name>
        <label>変数割り当て</label>
        <locationX>1184</locationX>
        <locationY>1543</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_ContractDocumentRemider</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_DecisionApplication</name>
        <label>変数割り当て</label>
        <locationX>864</locationX>
        <locationY>1545</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_DecisionApplication</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_EmployeeExplain</name>
        <label>変数割り当て</label>
        <locationX>681</locationX>
        <locationY>1543</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_EmployeeExplain</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_LegalApplicationApprovalContact</name>
        <label>変数割り当て</label>
        <locationX>772</locationX>
        <locationY>1532</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_LegalApplicationApprovalContact</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_ReminderConditionConfirmation</name>
        <label>変数割り当て</label>
        <locationX>432</locationX>
        <locationY>1527</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_ReminderConditionConfirmation</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assign_SendConditionConfirmation</name>
        <label>変数割り当て</label>
        <locationX>358</locationX>
        <locationY>1527</locationY>
        <assignmentItems>
            <assignToReference>var_ChatterText</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>input_SendConditionConfirmation</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decision_FromChat</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>choice_AdjustmentContactRenewalToAgency</name>
        <choiceText>関係者と調整(不動産)</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>関係者と調整(不動産)</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_AdjustmentContactRenewalToContact</name>
        <choiceText>関係者と調整(社宅担当者)</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>関係者と調整(社宅担当者)​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_ApprovalContact</name>
        <choiceText>承認連絡送付</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>承認連絡送付​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_BrrowerReceiptReminder</name>
        <choiceText>借主控えの回収管理</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>借主控えの回収管理​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_ContactAccount</name>
        <choiceText>企業に連絡</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>企業に連絡​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_ContractDocumentRemider</name>
        <choiceText>締結書類督促</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>締結書類督促​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_DecisionApplication</name>
        <choiceText>決裁申請</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>決裁申請​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_EmployeeExplain</name>
        <choiceText>社員説明</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>社員説明​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_LegalApplicationApprovalContact</name>
        <choiceText>リーガル申請送付</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>リーガル申請送付​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_ReminderConditionConfirmation</name>
        <choiceText>条件確認書督促送付</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>条件確認書督促送付​</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_RenewalCounter</name>
        <choiceText>更新窓口</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>更新窓口</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_RenewalCounterStaff</name>
        <choiceText>窓口担当者</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>窓口担当者</stringValue>
        </value>
    </choices>
    <choices>
        <name>choice_SendConditionConfirmation</name>
        <choiceText>条件確認書送付</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>条件確認書送付</stringValue>
        </value>
    </choices>
    <decisions>
        <description>チャットオブジェクトからフローの呼び出しがあったかを判定する</description>
        <name>decision_FromChat</name>
        <label>チャットからのChatter投稿判定</label>
        <locationX>770</locationX>
        <locationY>1712</locationY>
        <defaultConnector>
            <targetReference>action_ChatterPost</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>デフォルトの結果</defaultConnectorLabel>
        <rules>
            <name>isFromChat</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_ChatId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>action_ChatterPost_0</targetReference>
            </connector>
            <label>チャットからのChatter投稿</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isCorporateHousingStaff</name>
        <label>社宅担当者有無判定</label>
        <locationX>774</locationX>
        <locationY>858</locationY>
        <defaultConnector>
            <targetReference>get_User</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>社宅担当者あり</defaultConnectorLabel>
        <rules>
            <name>isNotCorporateHousingStaff</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>get_Renewal.CorporateHousingStaff__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Renewal.CorporateHousingStaff__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screen_PortalUserError</targetReference>
            </connector>
            <label>社宅担当者なし</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsNotificationDestination</name>
        <label>ポータル利用グループ判定</label>
        <locationX>765</locationX>
        <locationY>1278</locationY>
        <defaultConnector>
            <targetReference>decision_SelectTemplate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>ポータル利用あり</defaultConnectorLabel>
        <rules>
            <name>isNotNotificationDestination</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_NotificationDestination</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_NotificationDestination</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screen_PortalUserError</targetReference>
            </connector>
            <label>ポータル利用なし</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsPortal</name>
        <label>ポータル利用判定</label>
        <locationX>477</locationX>
        <locationY>1167</locationY>
        <defaultConnector>
            <targetReference>decision_SelectTemplate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>ポータル利用あり</defaultConnectorLabel>
        <rules>
            <name>isNotPortal</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_NotificationDestination</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_PortalUser.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screen_PortalUserError</targetReference>
            </connector>
            <label>ポータル利用なし</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_isRenewalCounter</name>
        <label>更新窓口通知先判定</label>
        <locationX>605</locationX>
        <locationY>871</locationY>
        <defaultConnector>
            <targetReference>get_Landlord</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新窓口</defaultConnectorLabel>
        <rules>
            <name>isCounterStaff</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_NotificationDestination</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_RenewalCounterStaff</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decision_IsRenewalCounterStaff</targetReference>
            </connector>
            <label>窓口担当者</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_IsRenewalCounterStaff</name>
        <label>更新窓口担当者有無判定</label>
        <locationX>370</locationX>
        <locationY>931</locationY>
        <defaultConnector>
            <targetReference>get_RenewalCounterStaff</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>更新窓口担当者あり</defaultConnectorLabel>
        <rules>
            <name>isNotRenewalCounterStaff</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>get_Renewal.RenewalCounterStaff__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Renewal.RenewalCounterStaff__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screen_PortalUserError</targetReference>
            </connector>
            <label>更新窓口担当者なし</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_NotificationDestination</name>
        <label>通知先判定</label>
        <locationX>764</locationX>
        <locationY>706</locationY>
        <defaultConnector>
            <targetReference>decision_isCorporateHousingStaff</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>企業社員</defaultConnectorLabel>
        <rules>
            <name>RenewalCounter</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_AdjustmentContactRenewalToAgency</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_SendConditionConfirmation</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ReminderConditionConfirmation</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ApprovalContact</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_BrrowerReceiptReminder</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ContractDocumentRemider</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screen_SelectNotificationDestinationGroup</targetReference>
            </connector>
            <label>更新窓口</label>
        </rules>
    </decisions>
    <decisions>
        <name>decision_SelectTemplate</name>
        <label>選択テンプレート判定</label>
        <locationX>767</locationX>
        <locationY>1373</locationY>
        <defaultConnector>
            <targetReference>assign_ContractDocumentRemider</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>締結書類督促</defaultConnectorLabel>
        <rules>
            <name>isSendConditionConfirmation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_SendConditionConfirmation</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_SendConditionConfirmation</targetReference>
            </connector>
            <label>条件確認書送付</label>
        </rules>
        <rules>
            <name>isReminderConditionConfirmation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ReminderConditionConfirmation</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_ReminderConditionConfirmation</targetReference>
            </connector>
            <label>条件確認書督促送付</label>
        </rules>
        <rules>
            <name>isAdjustmentContactRenewalToContact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_AdjustmentContactRenewalToContact</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_AdjustmentContactRenewalToContact</targetReference>
            </connector>
            <label>関係者と調整(社宅担当者)</label>
        </rules>
        <rules>
            <name>isAdjustmentContactRenewalToAgency</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_AdjustmentContactRenewalToAgency</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_AdjustmentContactRenewalToAgency</targetReference>
            </connector>
            <label>関係者と調整(不動産)</label>
        </rules>
        <rules>
            <name>isEmployeeExplain</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_EmployeeExplain</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_EmployeeExplain</targetReference>
            </connector>
            <label>社員説明</label>
        </rules>
        <rules>
            <name>isLegalApplicationApprovalContact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_LegalApplicationApprovalContact</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_LegalApplicationApprovalContact</targetReference>
            </connector>
            <label>リーガル申請送付</label>
        </rules>
        <rules>
            <name>isContactAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ContactAccount</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_ContactAccount</targetReference>
            </connector>
            <label>企業に連絡</label>
        </rules>
        <rules>
            <name>isApprovalContact</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_ApprovalContact</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_ApprovalContact</targetReference>
            </connector>
            <label>承認連絡送付</label>
        </rules>
        <rules>
            <name>isBrrowerReceiptReminder</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_BrrowerReceiptReminder</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_BrrowerReceiptReminder</targetReference>
            </connector>
            <label>借主控えの回収管理</label>
        </rules>
        <rules>
            <name>isDecisionApplication</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>input_ChatterTemplate</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>choice_DecisionApplication</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_DecisionApplication</targetReference>
            </connector>
            <label>決裁申請</label>
        </rules>
    </decisions>
    <description>チャットオブジェクトからのChatter投稿にも対応</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_EmployeeExplain</name>
        <dataType>String</dataType>
        <expression>IF (ISBLANK({!get_NotificationTemplate.EmployeeExplainFeed__c}), {!choice_EmployeeExplain}, {!get_NotificationTemplate.EmployeeExplainFeed__c})</expression>
    </formulas>
    <interviewLabel>RE_Chatterテンプレート挿入(更新) {!$Flow.CurrentDateTime}</interviewLabel>
    <label>RE_Chatterテンプレート挿入(更新)</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>get_ChatterGroup</name>
        <label>Chatterグループを取得</label>
        <locationX>614</locationX>
        <locationY>1055</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_PortalUser</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Landlord.Account__r.ChatterGroupId__c</elementReference>
            </value>
        </filters>
        <object>CollaborationGroup</object>
        <outputAssignments>
            <assignToReference>var_NotificationDestination</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>get_Landlord</name>
        <label>家主を取得</label>
        <locationX>612</locationX>
        <locationY>974</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_ChatterGroup</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Renewal.RenewalCounter__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Landlord__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_NotificationTemplate</name>
        <label>通知テンプレート取得</label>
        <locationX>776</locationX>
        <locationY>326</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>screen_SelectChatterTemplate</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Renewal.Account__r.NotificationTemplate__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>NotificationTemplate__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_PortalUser</name>
        <label>ポータルユーザを取得</label>
        <locationX>486</locationX>
        <locationY>1058</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>decision_IsPortal</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Landlord.Account__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_Renewal</name>
        <label>更新取得</label>
        <locationX>776</locationX>
        <locationY>206</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_NotificationTemplate</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Renewal__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_RenewalCounterStaff</name>
        <label>ユーザ取得</label>
        <locationX>362</locationX>
        <locationY>1283</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>decision_IsNotificationDestination</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContactId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Renewal.RenewalCounterStaff__c</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputAssignments>
            <assignToReference>var_NotificationDestination</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>get_User</name>
        <label>ユーザ取得</label>
        <locationX>773</locationX>
        <locationY>1041</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>decision_IsNotificationDestination</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContactId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>get_Renewal.CorporateHousingStaff__c</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputAssignments>
            <assignToReference>var_NotificationDestination</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <screens>
        <name>screen_ChatterInput</name>
        <label>Chatter入力画面</label>
        <locationX>774</locationX>
        <locationY>576</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>decision_NotificationDestination</targetReference>
        </connector>
        <fields>
            <name>input_SendConditionConfirmation</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.SendConditionConfirmation__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_SendConditionConfirmation</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_ReminderConditionConfirmation</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.ReminderConditionConfirmation__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_ReminderConditionConfirmation</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_AdjustmentContactRenewalToContact</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.AdjustmentContactRenewalToContact__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_AdjustmentContactRenewalToContact</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_AdjustmentContactRenewalToAgency</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.AdjustmentContactRenewalToAgency__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_AdjustmentContactRenewalToAgency</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_EmployeeExplain</name>
            <defaultValue>
                <stringValue>{!formula_EmployeeExplain}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_EmployeeExplain</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_LegalApplicationApprovalContact</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.LegalApplicationApprovalContactRenewal__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_LegalApplicationApprovalContact</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_DecisionApplication</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.DecisionApplicationRenewal__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_DecisionApplication</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_ContactAccount</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.ContactAccountRenewal__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_ContactAccount</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_ApprovalContact</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.ApprovalContactRE__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_ApprovalContact</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_BrrowerReceiptReminder</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.BrrowerReceiptReminderRenewal__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_BrrowerReceiptReminder</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>input_ContractDocumentRemider</name>
            <defaultValue>
                <stringValue>{!$Setup.DefaultFeedTemplate__c.ContractDocumentRemiderRenewal__c}</stringValue>
            </defaultValue>
            <fieldText>Chatter内容入力</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>input_ChatterTemplate</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choice_ContractDocumentRemider</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>screen_ChatterPostFinish</name>
        <label>Chatter通知完了画面</label>
        <locationX>776</locationX>
        <locationY>2073</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>display_ChatterPostFinish</name>
            <fieldText>&lt;p&gt;Chatterへの投稿が完了しました&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>screen_PortalUserError</name>
        <label>ポータルユーザーエラー</label>
        <locationX>934</locationX>
        <locationY>1198</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>display_NotPortalUser</name>
            <fieldText>&lt;p&gt;この通知先はChatterを利用できません&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>screen_SelectChatterTemplate</name>
        <label>Chatterテンプレート選択画面</label>
        <locationX>772</locationX>
        <locationY>456</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>screen_ChatterInput</targetReference>
        </connector>
        <fields>
            <name>input_ChatterTemplate</name>
            <choiceReferences>choice_SendConditionConfirmation</choiceReferences>
            <choiceReferences>choice_ReminderConditionConfirmation</choiceReferences>
            <choiceReferences>choice_AdjustmentContactRenewalToContact</choiceReferences>
            <choiceReferences>choice_AdjustmentContactRenewalToAgency</choiceReferences>
            <choiceReferences>choice_EmployeeExplain</choiceReferences>
            <choiceReferences>choice_LegalApplicationApprovalContact</choiceReferences>
            <choiceReferences>choice_DecisionApplication</choiceReferences>
            <choiceReferences>choice_ContactAccount</choiceReferences>
            <choiceReferences>choice_ApprovalContact</choiceReferences>
            <choiceReferences>choice_BrrowerReceiptReminder</choiceReferences>
            <choiceReferences>choice_ContractDocumentRemider</choiceReferences>
            <dataType>String</dataType>
            <fieldText>更新業務Chatterテンプレート</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>screen_SelectNotificationDestinationGroup</name>
        <label>通知先選択</label>
        <locationX>611</locationX>
        <locationY>755</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>decision_isRenewalCounter</targetReference>
        </connector>
        <fields>
            <name>input_NotificationDestination</name>
            <choiceReferences>choice_RenewalCounter</choiceReferences>
            <choiceReferences>choice_RenewalCounterStaff</choiceReferences>
            <dataType>String</dataType>
            <fieldText>通知先</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>650</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>get_Renewal</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>text_ChatterText</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>@[{!var_NotificationDestination}] 
{!var_ChatterText}</text>
    </textTemplates>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_ChatId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_ChatterText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_NotificationDestination</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
